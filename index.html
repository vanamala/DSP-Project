<html>
	<head>
		<style type="text/css">
		@import url('https://fonts.googleapis.com/css?family=Indie+Flower|Merriweather');
			body{font-family: "Merriweather", serif; background-image: url("Pattern.png");}
			p{display: inline-block;}
			img{display: block;}
			.container{width: 90%;position absolute;margin: auto;}
			.title{position: relative;width: 90%;margin: auto;text-align: center;font-weight: bold;font-size: 36px;padding: 1%;}
			.section{position: relative;width: 90%;margin: auto;padding: 2%;}
			.subsection{position: relative; width: 98%;text-align: justify;padding: 15px;}
			.heading{position: relative; width: 98%;text-align: left;font-size: 24px;font-weight: bold;}
			.text{width: 95%;font-size: 20px;text-align: justify;padding: 10px 15px 10px 10px;}
			.authors{position: relative;width: 90%;margin: auto;padding: 2%;font-style: italic;text-align: center;font-size: 20px;}
			.image{width: 95%;font-size: 20px;text-align: left;}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="title"><u>Activity Detection using Accelerometer Data</u></div>

			<div class="authors">

				<!-- Start edit here  -->
				<p>Harsh Bhardwaj, Roll No.: 150102023, Branch: ECE; &nbsp; &nbsp;
				 Shubham Lohiya, Roll No.: 150102064, Branch: ECE;</p> &nbsp; &nbsp;
				<p>Aniruddha Ghosh, Roll No.: 150102078, Branch: ECE; &nbsp; &nbsp;
				Bhargav Vanamala, Roll No.: 150102082, Branch: ECE;</p> &nbsp; &nbsp;
				<!-- Stop edit here -->

			</div>


			<div class="section">
				<div class="heading"><u>Abstract</u></div>
				<div class="text">

					<!-- Start edit here  -->
					Activity Recognition is an emerging field of research, born from the larger fields of ubiquitous computing, context-aware computing and multimedia. Recently, recognizing everyday life activities becomes
					one of the challenges for pervasive computing. It is required in various applications such as medical monitoring and rehabilitation where accurate and detailed measurement of an individual's physical activity is a key requirement. Accelerometers have become the popular choice for measuring physical activity owing to their small size, low cost, convenience and their ability to provide objective information about physical activity. In what follows, an accurate activity recognition system is developed to classify the activities performed into three classes i.e. Standing, Running and Cycling. The accelerometer is worn at the right waist of the user. <br> <br>

					 Data from accelerometer is subjected to feature extraction and then interpreting of the data from this process is done using machine learning algorithms. Accelerometer data obtained is divided into non-overlapping short windows of length 10 instances i.e. 5 continuous seconds in our case beacuse our sampling rate is 2 samples/second. Each window then yields a 15-dimentional feature vector which is used in a training process of machine learning model. 15 features are considered and extracted for the task at hand. <br><br>
					 Motivation for our features are as follows :- <br> <br>

					1. <b><u>Mean:</b></u> Mean refers to the central tendency of the data distribution so it is tells to which value is our activity data biased. <br> <br>
					2. <b><u>Standard deviation:</b></u> This feature represents the amount of variation or the dispersion of the data present in the activity, so it can differentiate between the activities with same mean values. <br> <br>
					3. <b><u>Skewness:</b></u> It represents the asymmetry of the data around it’s mean. <br> <br>
					4. <b><u>Kurtosis:</b></u> It measure whether the data are heavy-tailed or light-tailed relative to a normal distribution. That is, data sets with high kurtosis tend to have heavy tails, or outliers. Data sets with low kurtosis tend to have light tails, or lack of outliers. <br> <br>
					5. <b><u>Coefficient of Variation:</b></u> It is the standardised measure of deviation in an activity. It is also known as relative standard deviation (RSD). <br> <br>
					6. <b><u>Zero Crossing Rate:</b></u> It represents the rate of variation of the data from positive to negative or back activities with both negative and positive values tend to have high zero crossing rate. <br> <br>
					7. <b><u>Data below 25 and 75 percentile:</b></u> This feature represents the distribution of the data in different quartiles. <br> <br>
					8. <b><u>Peak Frequency component in spectrum of Y-axis data below 2 Hz:</b></u> This feature gives the essence of the low frequency components present in the signal and is important as the real life activates generally have less frequencies. <br> <br>
					9. <b><u>Number of peaks in spectrum of Y-axis data below 2 Hz:</b></u> It represents the slow varying components in the spectrum of Y axis and important in distinguishing between the activates with and without motion in Y direction. <br>

					 <br> <a href="https://github.com/vanamala/DSP-Project">Click here</a> for all the required datasets and codes.
					<!-- Stop edit here -->

				</div>
			</div>

			<div class="section">
				<div class="heading">1. <u>Introduction</u></div>
				<div class="text">

					<!-- Start edit here  -->
					 When we watch a person, it is easy for us to tell what activity they are performing even if we have never seen them in the past. This is because our brains are already trained to understand human activities. When viewing the activity, the brain compares it to thousands of activities it has memorized and pops out the one that matches. Similarly, a computer can identify the activity one is performing based on activities we have trained it to identify. <br>
					 On a computer, a machine learning algorithm can be used to “learn” human activities and detect the activity being performed for the new data that is collected. A detection task such as this, which involves categorizing data into separate “classes” is called classification. Applying a classification algorithm to this task involves two steps: training and detection. The training step builds a model which maps training data to certain categories. The detection step maps new data to a category. <br>
					<!-- Stop edit here -->

				</div>

				<div class="subsection">
					<div class="heading">1.1 <u>Introduction to Problem</u></div>
					<div class="text">

						<!-- Start edit here  -->
						Given accelerometer data from 3 activities namely: <b>Standing, Running & Cycling</b>, we need to classify/detect which activity is being performed from those corresponding data entries.  
						<!-- Stop edit here -->

					</div>
				</div>

				<div class="subsection">
					<div class="heading">1.2 <u>Figure</u></div>
					<div class="image">

						<!-- Start edit here  -->
						<br>
						Representative image of our Project. 
						<img src="Try.png" width="540px" height="360px" alt="This text displays when the image is unavailable"/>
						<!-- Stop edit here -->

					</div>
				</div>
				<div class="subsection">
					<div class="heading">1.3 <u>Literature Review</u></div>
					<div class="text">

						<!-- Start edit here  -->
						Some of the approaches, methodologies and ideas after surveying papers :- <br> <br>

						1. Each time series A<sub>i</sub>, with i = {x, y, z} can be filtered with a digital filter in order to separate low frequencies components and high frequencies component. The cut-off frequency has been set to 1 Hz, arbitrarily. In this way, we obtain for each time series, three more time series A<sub>ij</sub> with j = {b, dc, ac}, where b, dc, ac represent respectively the time series without filtering, the time series resulting from a low pass filtering and the time series resulting from a high pass filtering. <br> <br>
						2. A successful technique for extracting features from sequential motion data has been demonstrated to be windowing with overlapping or continuous non-overlapping windows. <br> <br>
						3. We can extract the following features: root mean squared value of integration of acceleration in a window, mean value of Minmax sums, mean value, standard deviation, coefficient of variation, zero crossing rate, skewness, kurtosis , squared sum of data below 25 & 75 percentile, mean of mean of CWC, variance of CWC and correlation between each pairwise of accelerometer axis. <br><br>

						<b>#NOTE</b> : Papers that we have gone through while literature review for collecting ideas, approaches and methodologies are:-<br>
						1. A Study on Human Activity Recognition Using Accelerometer Data <br>
						2. Feature Selection and Activity Recognition <br>
						3. Physical Activity Recognition from Accelerometer <br>
						<br> <a href="https://github.com/vanamala/DSP-Project">Click here</a> to download the required paper in PDF format.

						<!-- Stop edit here -->

					</div>
				</div>
				<div class="subsection">
					<div class="heading">1.4 <u>Proposed Approach</u></div>
					<div class="text">

						<!-- Start edit here  -->
						<b>Step 1 :</b> Accelerometer Data Collection and Data-Set Creation. <br>
						<b>Step 2 :</b> Feature Extraction. <br>
						<b>Step 3 :</b> Training the Classifier & testing and finding accuracy. <br>

						<!-- Stop edit here -->

					</div>
				</div>
				<div class="subsection">
					<div class="heading">1.5 <u>Report Organization</u></div>
					<div class="text">

						<!-- Start edit here  -->
						<b>Section 1</b> describes the Motivation for our Project, Problem Statement and the Literature we reviewed. <br> 
						<b>Section 2</b> describes the detailed approach followed to extract feature out of the given dataset. <br>
						<b>Section 3</b> shows our classification results and the data set used for verifying. <br>
						In <b>section 4</b>, a summary of our whole project work is presented.
						<!-- Stop edit here -->

					</div>
				</div>
			</div>

			<div class="section">
				<div class="heading">2. <u>Proposed Approach</u></div>
				<div class="text">

					<!-- Start edit here  -->
					 <b><u>Step 1 : Accelerometer Data Collection and Data-Set Creation:-</u></b> <br><br>
					 Acceleration data is collected using an accelerometer (ADXL335). The accelerometer is a tri-axial accelerometer which gives acceleration in the X, Y and Z axes. The accelerometer data pertaining to the activities of standing, running and cycling, performed by a number of people is obtained via the accelerometer which is attached to the waist of the person performing the activity. The accelerometer is interfaced with a Raspberry Pi module and configured accordingly. Raspberry Pi module is used to store the data. The accelerometer data is recorded for the activities performed in continuation. Thus, the data set in regards to the activities is formed. <br> <br> <br>

					 <b><u>Step 2 : Feature Extraction:-</u></b> <br><br>
					 A 15-dimension feature vectors is extracted from non-overlapping short windows of length 10 instances i.e. 5 seconds for the activities as obtained earlier. <br> <br>

					The following are some details about the same :- <br><br>

					1. <b><u>Mean</u></b>- The average of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br>

					2. <b><u>Standard Deviation</u></b>- It is given by the square root of the sum of squared deviations about the mean. It is therefore, the second order moment about the mean. The standard deviation is calculated for the data along all the three axes and RMS value is taken. <br> <br>

					3. <b><u>Coefficient of Variation</u></b>- It is the ratio of the standard deviation to the mean. It indicates the relative variability. The coefficient of variation of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br>

					4. <b><u>Skewness</u></b>- It is the third order moment about the mean. It measures the degree of asymmetry of the data. The skewness of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br>

					5. <b><u>Kurtosis</u></b>- It is the fourth order moment about the mean. It measures the tailed-ness of the data. The kurtosis of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br>

					6. <b><u>Zero Crossing Rate(ZCR)</u></b>- This is a measure of the rate of sign change by the signal from positive to negative or vice-versa. The ZCR of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br>

					7. <b><u>Data below 25 and 75 percentile</u></b>- This gives a measure of the data below 25 and 75 percentile respectively. The squared sum of data below 25 percentile and 75 percentile are calculated and used as features. <br> <br>

					8. <b><u>Peak Frequency Component below 2 Hz</u></b>- The peak frequency in the spectrum of data along the y-axis below 2 Hz. <br> <br>

					9. <b><u>Number of peaks in y-axis data below 2 Hz</u></b>- The number of peaks in the spectrum of data along the y-axis is calculated. <br> <br>

					10. <b><u>Lag One Auto-Correlation</u></b>- This measures the auto-correlation with unity lag. The Lag One Autocorrelation for the data along all the axes is calculated and the RMS value of the same is taken. <br> <br>

					11. <b><u>Continuous Wavelet Transform(CWT)</u></b>- It is used to divide a continuous-time function into wavelets. We found out the the mean of mean and variance of each wavelet. The CWT mean of mean and variance of the acceleration data along all the three axes is calculated and RMS value is taken. <br> <br> <br>


					<b><u>Step 3 : Training the Classifier, tesing and finding accuracy.</u></b> <br><br>
					Classifier is trained using the features as described above and then tested on a sequence of test data taken from the accelerometer.         

					<!-- Stop edit here -->

				</div>
			</div>

			<div class="section">
				<div class="heading">3. <u>Experiments &amp; Results</u></div>
				<div class="subsection">
					<div class="heading">3.1 <u>Dataset Description</u></div>
					<div class="text">

						<!-- Start edit here  -->
						Data is collected from ADXL335 which is a tri-axial accelerometer worn on the waist of the user. The data set is obtained by recording <b>9 sets</b> of data which are performed by a number of individuals. Total duration of each set being <b>7.5 minutes</b> corresponding to 2.5 minutes for each activity. These activities are performed in succession i.e. running, then cycling followed by standing. The total duration of data for each of the activity being <b>[(2.5 minutes) * 9] = 22.5 minutes</b>. The <b>sampling rate</b> used is <b>2 Hz</b> and hence a total of <b>[22.5 * (60 seconds) * (2 samples/second)] = 2700 samples</b> for each activity. <br>
						Acceleration data corresponding to the three axes are therefore collected. This data is segregated into different categories i.e. Running, Cycling and Standing and the data set is created.




						<!-- Stop edit here -->

					</div>
				</div>
				<div class="subsection">
					<div class="heading">3.2 <u>Discussion</u></div>
					<div class="text">

						<!-- Start edit here  -->
						The following classifiers are used in our Project :- <br> <br>

						1. <u><b>Logistic Regression Model</b></u> - <br> <br>

						This is a classfication technique which fits a linear model to the feature space involving a probabilistic view of classification. This model involves a vector ß in d – dimensional feature space, the points in feature space are projected on to ß and converted into a real number in the range spanning the whole real line. This real number, thus obtained, is mapped to a value in the range 0 to 1 using the standard logistic function. The prediction using this model can be treated as a probability of class membership. By applying threshold to probability, class assignment can be done. Threshold represents the decision boundadry in the feature space.

						ß is optimized to give the best possible reproduction of training set labels. This is usually done by numerical approximation of maximum likelihood. On really large datasets, stochastic gradient descent may be used.

						There are a number of advantages to this :- <br><br>

						1.	Makes no assumptions about distributions of classes in feature space.<br>
						2.	Easily extended to multiple classes (multinomial regression) <br>
						3.	Natural probabilistic view of class predictions.<br>
						4.	Natural probabilistic view of class predictions <br>
						5.	Quick to train <br>
						6.	Very fast at classifying unknown records<br>
						7.	Good accuracy for many simple data sets <br>
						8.	Resistant to overfitting<br>
						9.	Can interpret model coefficients as indicators of feature importance<br><br>

						When used on the data set at hand, it gives a training accuracy of 98.33% and a test accuracy of 97.41%. <br> <br>


						2. <u><b>Multinomial Regression</b></u> - <br> <br>

						Softmax regression (or multinomial logistic regression) is a generalization of logistic regression to the case where we want to handle multiple classes. In logistic regression the labels were binary, for this case the labels are more than two (three in our case i.e. Running, Cycling, Standing).In the softmax regression setting, we are interested in multi-class classification (as opposed to only binary classification), and so the label can take on K (the number of classes in question) different values, rather than only two. we want to estimate the probability of the class label taking on each of the K different possible values. Thus, our hypothesis will output a K-dimensional vector (whose elements sum to 1) giving us our K estimated probabilities.In the special case where K = 2, one can show that softmax regression reduces to logistic regression. This shows that softmax regression is a generalization of logistic regression. <br><br>

						When used on the data set at hand, it gives a training accuracy of 98.61% and a test accuracy of 98.05%. <br> <br>


						3. <u><b>Support Vector Machine</b></u> - <br> <br>

						Support Vector Machines fall under the category of supervised learning models that analyze data used for classification and regression analysis.  
						Given a set of training examples, each marked as belonging to one or the other of two categories, an SVM training algorithm builds a model that assigns new examples to one category or the other, making it a non-probabilistic linear classifier (although methods such as Platt Scaling exist to use SVM in a probabilistic classification setting). An SVM model is a representation of the examples as points in space, mapped so that the examples of the separate categories are divided by a clear gap that is as wide as possible. New examples are then mapped into that same space and predicted to belong to a category based on which side of the gap they fall.

						 Other SVM classfiers used are Polynomial SVM and  Gaussian (RBF) SVM, the difference being that the kernel used are polynomial and Gaussian respectively. <br> <br>

						 <b># <u>Plots with different features mapped on 3 axes for Standing, Running and Cycling.</u></b><br><br> 	
						 
						 Standing corresponds to Red points. <br>
						 Running corresponds to Green points. <br>
						 Cycling corresponds to Black points. <br>
						 <br>
						 In each of the case:- <br>
						 1st Feature is mapped in X direction. <br>
						 2st Feature is mapped in Y direction. <br>
						 3rd Feature is mapped in Z direction. <br>

						<br><u><b>Plot of Mean, Standard Deviation and Coefficient of Variation:</b></u> <br>
						<img src="13.png" width="560px" height="420px" alt="This text displays when the image is unavailable"/>

						<br><u><b>Plot of Crest Factor, Average and Squared Sum of Data below 25 Percentile:</b></u> <br>
						<img src="46.png" width="560px" height="420px" alt="This text displays when the image is unavailable"/>

						<br><u><b>Plot of Squared Sum of Data below 25 Percentile, Peak Frequency and Number of peaks in Spectrum of Y-axis data below 2 Hz:</b></u> <br>
						<img src="79.png" width="560px" height="420px" alt="This text displays when the image is unavailable"/>

						<br><u><b>Plot of Lag One Auto-Correlation, Skewness and Kurtosis:</b></u> <br>
						<img src="1012.png" width="560px" height="420px" alt="This text displays when the image is unavailable"/>

						<br><u><b>Plot of Zero Crossing Rate, Continuous Wavelet Transform Mean, Continuous Wavelet Transform Variance:</b></u> <br>
						<img src="1315.png" width="560px" height="420px" alt="This text displays when the image is unavailable"/>

						<br> <br>

						<u><b>Results from various classifiers</b>:- </u> <br> <br> 
						
						#Logistic Regression Train Accuracy ::  0.983333333333<br>
						#Logistic Regression Test Accuracy ::  0.974110032362 <br> <br>

						#Multinomial Logistic Regression Train Accuracy ::  0.986111111111 <br>
						#Multinomial Logistic Regression Test Accuracy ::  0.980582524272 <br> <br>

						#Linear SVM Train Accuracy ::  0.988888888889 <br>
						#Linear SVM Test Accuracy ::  0.980582524272 <br> <br>

						#RBF SVM Train Accuracy ::  0.991666666667 <br>
						#RBF SVM Test Accuracy ::  0.961165048544 <br> <br>

						#Polynomial SVM Train Accuracy ::  0.994444444444 <br>
						#Polynomial SVM Test Accuracy ::  0.987055016181 <br> <br>

						All the classifiers have performed reasonably well and are showing a high level of accuracy. Polynomial SVM performed the best on both the training and testing dataset.
						<!-- Stop edit here -->

					</div>
				</div>
			</div>

			<div class="section">
				<div class="heading">4. <u>Conclusions</u></div>
				<div class="subsection">
					<div class="heading">4.1 <u>Summary</u></div>
					<div class="text">

						<!-- Start edit here  -->
						The classifiers that we have used are Logistic Regression, Multinomial Regression and SVM trained on the features as previously mentioned i.e. Mean, Standard Deviation, Skewness, Kurtosis, Coefficient of Variation, Crest Factor, Zero Crossing Rate, 25 Percentile & 75 Percentile, Data below 25 and 75 percentile, Peak Frequency Component below 2 Hz, Number of peaks in y-axis data below 2Hz and Lag One Autocorrelation. The Multinomial Regression Classifier performed best while the other classifiers i.e. Logistic Regression and SVM Classifier performed reasonably well. <br> <br>

						The methodology used classifies activities performed by differnet individuals at differnet speed and style with high accuracy. The system developed, thus, provides a foundation towards a more robust system that will require minimum training of the users and provide least errors due to orientation and positioning offsets of the accelerometer.

						 With extension of the given system to include classification of more activities performed in real time it remains to test the system on more subjects. Also with the high accuracy achieved, it becomes worthwhile to deploy the system for real time use. 

						<!-- Stop edit here -->

					</div>
				</div>
				<div class="subsection">
					<div class="heading">4.2 <u>Future Extensions</u></div>
					<div class="text">

						<!-- Start edit here  -->
						1. More efficient algorithms for the classification purpose are to be investigated obtaining better accuracy. Keeping in view that the classification if can be done in real time would be a great asset. Thus, appropriate feature vectors and algorithms have to be explored for segmenting the data and classifying these segments into different activities.<br> <br>
						2. The sampling rate used in the present approach is quite low, this in itself causes complications in the extraction of features. Hence, for a future extension it becomes worth investigating the ideal sampling rate so that data obtained does not become redundant, all the while making it easier to select and extract features.<br> <br>
						3. Since an individual performs many more activities than just the three considered it is worthwhile to investigate methods for classification among more number of activities. 

						<!-- Stop edit here -->

					</div>
				</div>

				<div class="subsection">
					<div class="heading">4.3 <u>References</u></div>
					<div class="text">

						<!-- Start edit here  -->
						1. A Study on Human Activity Recognition Using Accelerometer Data by Akram Bayat, Marc Pomplun, Duc A. Tran <br>
						2. Feature Selection and Activity Recognition by Piyush Gupta and Tim Dallas <br>
						3. Physical Activity Recognition from Accelerometer by Yonglei Zheng, Weng-KeenWong, Xinze Guan <br>
						<!-- Stop edit here -->

					</div>
				</div>
			</div>

		</div>
	</body>
</html>
